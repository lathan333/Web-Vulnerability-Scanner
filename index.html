<!DOCTYPE html>
<html>
<head>
    <title>Web Vulnerability Scanner</title>
</head>
<body>
    <h1>Web Vulnerability Scanner</h1>
    <form id="scan-form">
        <label for="url-input">Enter URL:</label>
        <input type="text" id="url-input" placeholder="https://example.com" required>
        <button type="submit" id="scan-button">Scan</button>
    </form>
    <div id="result-container"></div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const scanButton = document.getElementById('scan-button');
            const urlInput = document.getElementById('url-input');
            const resultContainer = document.getElementById('result-container');

            scanButton.addEventListener('click', async (event) => {
                event.preventDefault(); // Prevent form submission
                const url = urlInput.value;
                const response = await fetch('http://localhost:5000/scan', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ url })
                });
                const report = await response.json();
                resultContainer.innerText = JSON.stringify(report, null, 2);
            });
        });
    </script>
</body>
</html>